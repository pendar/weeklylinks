@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --curve: cubic-bezier(.47, 0, .23, 1.38);
  --card-height-vh: 70;
  --card-aspect-ratio: 0.53;
  --border-radius: 20px;
  --spotlight-shadow: 0px 594px 166px 0 rgba(0,0,0,0), 0px 380px 152px 0 rgba(0,0,0,.02), 0px 214px 128px 0 rgba(0,0,0,.08), 0px 95px 95px 0 rgba(0,0,0,.13), 0px 24px 52px 0 rgba(0,0,0,.15);
  /* Softer stacked shadow */
  --stacked-shadow: 183px 565px 166px 0 rgba(0,0,0,0), 117px 361px 152px 0 rgba(0,0,0,.006), 66px 203px 128px 0 rgba(0,0,0,.02), 29px 90px 95px 0 rgba(0,0,0,.06), 7px 23px 52px 0 rgba(0,0,0,.08);
}

html, body {
  height: 100%;
}

/* Prevent scrolling on public site only */
body:not(:has(.admin-layout)) {
  overflow: hidden;
}

body {
  @apply text-[rgb(17,17,17)] bg-white antialiased;
}

/* Mobile viewport fix */
@media screen and (max-width: 640px) {
  html, body {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
}

/* Card layers for buttery shadow cross-fade */
.card-el {
  position: absolute;
  border-radius: 20px;
  will-change: transform, opacity;
  isolation: isolate;
}
.card-el::before,
.card-el::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 20px;
  background: white;
  transition: opacity 0.2s var(--curve);
  z-index: 0;
}

/* Remove white background for image cards to show background image */
.card-el[data-card-type="image"]::before,
.card-el[data-card-type="image"]::after {
  background: transparent;
}
.card-el::before {
  box-shadow: var(--spotlight-shadow);
  opacity: var(--spotlight-progress, 0);
}
.card-el::after {
  box-shadow: var(--stacked-shadow);
  opacity: calc((1 - var(--spotlight-progress, 0)) * var(--stack-depth-opacity, 1));
}
.card-el > .inner { position: relative; z-index: 1; }




